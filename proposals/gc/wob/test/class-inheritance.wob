// @FAIL-WASM

// Inheritance

class Counter(x : Int) {
  let a = x;
  var c : Int = a;
  func get() : Int { return c };
  func set(x : Int) { c := x };
  func inc() { c := c + 1 };
};

class DCounter(x : Int) <: Counter(x) {
  func dec() { c := c - 1 };
};

let d = new DCounter(7);
assert d.a == 7;
assert d.c == 7;
assert d.get() == 7;

d.inc();
assert d.a == 7;
assert d.c == 8;
assert d.get() == 8;

d.set(13);
assert d.a == 7;
assert d.c == 13;
assert d.get() == 13;

d.dec();
assert d.a == 7;
assert d.c == 12;
assert d.get() == 12;
